trigger:
- main  

pool:
  vmImage: DESKTOP-1989J2H  

steps:
- script: |
    git clone https://github.com/flutter/flutter.git -b stable
    export PATH="$PATH:`pwd`/flutter/bin" 
    flutter doctor
  displayName: 'Install Flutter SDK'

- script: |
    flutter pub get 
  displayName: 'Install dependencies'

- script: |
    flutter build apk  
  displayName: 'Build Flutter project'

- script: |
    flutter test  
  displayName: 'Run Flutter tests'

- script: |
    echo "Deploying Flutter app..."
  displayName: 'Deploy project'
